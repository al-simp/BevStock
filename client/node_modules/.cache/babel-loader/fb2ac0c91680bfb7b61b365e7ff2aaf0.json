{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alans\\\\Bevstock\\\\client\\\\src\\\\components\\\\ListProducts.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport EditQuantity from \"./EditQuantity\";\n\nconst ListProducts = () => {\n  const [products, setProducts] = useState([]); //delete product function\n\n  const deleteProduct = async id => {\n    try {\n      const deleteProduct = await fetch(`http://localhost:5000/products/${id}`, {\n        method: \"DELETE\"\n      });\n      setProducts(products.filter(product => product.product_id !== id));\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const getProducts = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/products\");\n      const jsonData = await response.json();\n      setProducts(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \" Product List \"), \" \", /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table mt-5 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 65\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \" Product \"), \" \", /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \" Quantity \"), \" \", /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }\n  }, \" Update \"), \" \", /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 28\n    }\n  }, \" Delete \"), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \" \", \" \", products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product.product_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \" \", product.product_name, \" \"), \" \", /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 54\n    }\n  }, \" \", product.quantity, \" \"), \" \", /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 50\n    }\n  }, \" \", /*#__PURE__*/React.createElement(EditQuantity, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => deleteProduct(products.product_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 22\n    }\n  }, \" Delete \")))), \" \"), \" \"), \" \");\n};\n\nexport default ListProducts;","map":{"version":3,"sources":["C:/Users/alans/Bevstock/client/src/components/ListProducts.js"],"names":["React","Fragment","useState","useEffect","EditQuantity","ListProducts","products","setProducts","deleteProduct","id","fetch","method","filter","product","product_id","err","console","error","message","getProducts","response","jsonData","json","map","product_name","quantity"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\n\r\nimport EditQuantity from \"./EditQuantity\"\r\n\r\nconst ListProducts = () => {\r\n\r\n    const [products, setProducts] = useState([]);\r\n\r\n    //delete product function\r\n    const deleteProduct = async(id) => {\r\n        try {\r\n            const deleteProduct = await fetch(`http://localhost:5000/products/${id}`, {\r\n                method: \"DELETE\"\r\n            });\r\n\r\n            setProducts(products.filter(product => product.product_id !== id));\r\n\r\n        } catch (err) {\r\n            console.error(err.message)\r\n        }\r\n    }\r\n\r\n    const getProducts = async() => {\r\n        try {\r\n\r\n            const response = await fetch(\"http://localhost:5000/products\")\r\n            const jsonData = await response.json()\r\n\r\n            setProducts(jsonData);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, []);\r\n\r\n\r\n    return ( <\r\n        Fragment >\r\n        <\r\n        h1 className = \"text-center mt-5\" > Product List < /h1> <\r\n        table class = \"table mt-5 text-center\" >\r\n        <\r\n        thead >\r\n        <\r\n        tr >\r\n        <\r\n        th > Product < /th> <\r\n        th > Quantity < /th> <\r\n        th > Update < /th> <\r\n        th > Delete < /th> <\r\n        /tr> <\r\n        /thead> <\r\n        tbody > {\r\n            /*<tr>\r\n                                    <td>John</td>\r\n                                    <td>Doe</td>\r\n                                    <td>john@example.com</td>\r\n                                </tr>*/\r\n        } {\r\n            products.map(product => ( <\r\n                tr key = { product.product_id } >\r\n                <\r\n                td > { product.product_name } < /td> <\r\n                td > { product.quantity } < /td> <\r\n                td > < EditQuantity product = { product }\r\n                /></td >\r\n                <\r\n                td > < button className = \"btn btn-danger\"\r\n                onClick = {\r\n                    () => deleteProduct(products.product_id) } > Delete < /button></td >\r\n                <\r\n                /tr>\r\n            ))\r\n        } <\r\n        /tbody> <\r\n        /table> <\r\n        /Fragment>\r\n    );\r\n}\r\n\r\nexport default ListProducts"]},"metadata":{},"sourceType":"module"}