{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";//components\nimport EditTeamMember from\"./EditTeamMember\";var ShowTeam=function ShowTeam(_ref){var allTeamMembers=_ref.allTeamMembers,setTeamChange=_ref.setTeamChange;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),team=_useState2[0],setTeamMembers=_useState2[1];// assigned to an empty array\nvar deleteTeamMember=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/teammanagement/delete/\".concat(id),{method:\"PUT\",headers:{token:localStorage.token}});case 3:setTeamMembers(team.filter(function(app_user){return app_user.user_id!==id;}));_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 9:setTeamChange(true);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function deleteTeamMember(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){},[]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table mt-5 text-center\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Role\"),/*#__PURE__*/React.createElement(\"th\",null,\"Edit\"),/*#__PURE__*/React.createElement(\"th\",null,\"Delete\"))),/*#__PURE__*/React.createElement(\"tbody\",null,allTeamMembers.map(function(app_user){return/*#__PURE__*/React.createElement(\"tr\",{key:app_user.user_id},/*#__PURE__*/React.createElement(\"td\",null,app_user.user_name),/*#__PURE__*/React.createElement(\"td\",null,app_user.role),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(EditTeamMember,{member:app_user,setTeamChange:setTeamChange})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteTeamMember(app_user.user_id);}},\"Delete\")));}))));};export default ShowTeam;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/team_management/ShowTeam.js"],"names":["React","Fragment","useState","useEffect","EditTeamMember","ShowTeam","allTeamMembers","setTeamChange","team","setTeamMembers","deleteTeamMember","id","fetch","method","headers","token","localStorage","filter","app_user","user_id","console","error","message","map","user_name","role"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CAEA;AACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAuC,IAApCC,CAAAA,cAAoC,MAApCA,cAAoC,CAApBC,aAAoB,MAApBA,aAAoB,eACvBL,QAAQ,CAAC,EAAD,CADe,wCAC/CM,IAD+C,eACzCC,cADyC,eACT;AAE7C,GAAMC,CAAAA,gBAAgB,2FAAG,iBAAOC,EAAP,wJAEfC,CAAAA,KAAK,kCAA2BD,EAA3B,EAAiC,CAC1CE,MAAM,CAAE,KADkC,CAE1CC,OAAO,CAAE,CAAEC,KAAK,CAAEC,YAAY,CAACD,KAAtB,CAFiC,CAAjC,CAFU,QAOrBN,cAAc,CAACD,IAAI,CAACS,MAAL,CAAY,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,OAAT,GAAqBR,EAAnC,EAAZ,CAAD,CAAd,CAPqB,8EASrBS,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EATqB,OAWvBf,aAAa,CAAC,IAAD,CAAb,CAXuB,oEAAH,kBAAhBG,CAAAA,gBAAgB,6CAAtB,CAcAP,SAAS,CAAC,UAAM,CACf,CADQ,CACN,EADM,CAAT,CAGA,mBACE,oBAAC,QAAD,mBACE,6BAAO,SAAS,CAAC,wBAAjB,eACE,8CACE,2CACE,qCADF,cAEE,qCAFF,cAGE,qCAHF,cAIE,uCAJF,CADF,CADF,cASE,iCAEGG,cAAc,CAACiB,GAAf,CAAmB,SAACL,QAAD,qBAClB,0BAAI,GAAG,CAAEA,QAAQ,CAACC,OAAlB,eACE,8BAAKD,QAAQ,CAACM,SAAd,CADF,cAEE,8BAAKN,QAAQ,CAACO,IAAd,CAFF,cAGE,2CACE,oBAAC,cAAD,EACE,MAAM,CAAEP,QADV,CAEE,aAAa,CAAEX,aAFjB,EADF,CAHF,cASE,2CACE,8BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,yBAAMG,CAAAA,gBAAgB,CAACQ,QAAQ,CAACC,OAAV,CAAtB,EAFX,WADF,CATF,CADkB,EAAnB,CAFH,CATF,CADF,CADF,CAqCD,CAzDD,CA2DA,cAAed,CAAAA,QAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\n\r\n//components\r\nimport EditTeamMember from \"./EditTeamMember\";\r\n\r\nconst ShowTeam = ({ allTeamMembers, setTeamChange }) => {\r\n  const [team, setTeamMembers] = useState([]); // assigned to an empty array\r\n\r\n  const deleteTeamMember = async (id) => {\r\n    try {\r\n      await fetch(`/teammanagement/delete/${id}`, {\r\n        method: \"PUT\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      setTeamMembers(team.filter((app_user) => app_user.user_id !== id));\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n    setTeamChange(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <table className=\"table mt-5 text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Role</th>\r\n            <th>Edit</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {}\r\n          {allTeamMembers.map((app_user) => (\r\n            <tr key={app_user.user_id}>\r\n              <td>{app_user.user_name}</td>\r\n              <td>{app_user.role}</td>\r\n              <td>\r\n                <EditTeamMember\r\n                  member={app_user}\r\n                  setTeamChange={setTeamChange}\r\n                />\r\n              </td>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-danger\"\r\n                  onClick={() => deleteTeamMember(app_user.user_id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ShowTeam;\r\n"]},"metadata":{},"sourceType":"module"}