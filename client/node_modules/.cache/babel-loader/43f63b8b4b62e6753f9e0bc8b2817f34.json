{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import{toast}from\"react-toastify\";var EditTeamMember=function EditTeamMember(_ref){var member=_ref.member,setTeamChange=_ref.setTeamChange;var _useState=useState(member.user_name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(member.user_email),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var setDetails=function setDetails(username,email){setName(username);setEmail(email);};var editDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var body,myHeaders;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body={name:name,email:email};myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");myHeaders.append(\"token\",localStorage.token);_context.next=7;return fetch(\"/teammanagement/update/\".concat(id),{method:\"PUT\",headers:myHeaders,body:JSON.stringify(body)});case 7:toast.success(\"Details updated successfully!\");setTeamChange(true);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function editDetails(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(member.user_id)},\"Edit\"),/*#__PURE__*/React.createElement(\"div\",{className:\"modal\",id:\"id\".concat(member.user_id),onClick:function onClick(){return function(){return setEmail(member.user_email);};}},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},\"Edit Details\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDetails(member.user_name,member.user_email);}},\"\\xD7\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control mt-1\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return editDetails(member.user_id);}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDetails(member.user_email,member.user_name);}},\"Close\"))))));};export default EditTeamMember;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/team_management/EditTeamMember.js"],"names":["React","Fragment","useState","toast","EditTeamMember","member","setTeamChange","user_name","name","setName","user_email","email","setEmail","setDetails","username","editDetails","id","body","myHeaders","Headers","append","localStorage","token","fetch","method","headers","JSON","stringify","success","console","log","message","user_id","e","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst EditTeamMember = ({ member, setTeamChange }) => {\r\n\r\n\r\n  const [name, setName] = useState(member.user_name);\r\n  const [email, setEmail] = useState(member.user_email);\r\n  \r\n  const setDetails = (username, email) => {\r\n    setName(username);\r\n    setEmail(email)\r\n  }\r\n\r\n  const editDetails = async id => {\r\n    try {\r\n      const body = { name, email };\r\n\r\n      \r\n\r\n      const myHeaders = new Headers();\r\n\r\n\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      myHeaders.append(\"token\", localStorage.token);\r\n\r\n      await fetch(`/teammanagement/update/${id}`, {\r\n        method: \"PUT\",\r\n        headers: myHeaders,\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      toast.success(\"Details updated successfully!\")\r\n\r\n      setTeamChange(true);\r\n      \r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${member.user_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n      {}\r\n      <div\r\n        className=\"modal\"\r\n        id={`id${member.user_id}`}\r\n        onClick={() => () => setEmail(member.user_email)}\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Edit Details</h4>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDetails(member.user_name, member.user_email)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mt-1\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={e => editDetails(member.user_id)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDetails(member.user_email, member.user_name)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EditTeamMember;\r\n"]},"metadata":{},"sourceType":"module"}