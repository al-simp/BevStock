{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";var InventoryBreakdown=function InventoryBreakdown(_ref){var product_id=_ref.product_id,id=_ref.id,name=_ref.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),breakdown=_useState2[0],setBreakdown=_useState2[1];var product=product_id;var getInventoryBreakdown=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var body,response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body={id:id,product:product};_context.next=4;return fetch(\"/inventory/breakdown\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(body)});case 4:response=_context.sent;_context.next=7;return response.json();case 7:parseRes=_context.sent;setBreakdown(parseRes);console.log(parseRes);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getInventoryBreakdown(){return _ref2.apply(this,arguments);};}();useEffect(function(){getInventoryBreakdown();},[]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(product_id)},\"View Breakdown\"),/*#__PURE__*/React.createElement(\"div\",{className:\"modal\",id:\"id\".concat(product_id)},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},name)),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"}),/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Area\"),/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"))),/*#__PURE__*/React.createElement(\"tbody\",null,breakdown.map(function(list){return/*#__PURE__*/React.createElement(\"tr\",{key:list.stocklist_name},/*#__PURE__*/React.createElement(\"td\",null,list.stocklist_name),/*#__PURE__*/React.createElement(\"td\",null,list.sum));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",\"data-dismiss\":\"modal\"},\"Close\"))))));};export default InventoryBreakdown;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/inventory/InventoryBreakdown.js"],"names":["React","Fragment","useState","useEffect","InventoryBreakdown","product_id","id","name","breakdown","setBreakdown","product","getInventoryBreakdown","body","fetch","method","headers","JSON","stringify","response","json","parseRes","console","log","error","message","map","list","stocklist_name","sum"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAA8B,IAA3BC,CAAAA,UAA2B,MAA3BA,UAA2B,CAAfC,EAAe,MAAfA,EAAe,CAAXC,IAAW,MAAXA,IAAW,eACnBL,QAAQ,CAAC,EAAD,CADW,wCAC9CM,SAD8C,eACnCC,YADmC,eAEvD,GAAMC,CAAAA,OAAO,CAAGL,UAAhB,CAGA,GAAMM,CAAAA,qBAAqB,2FAAG,8KAEpBC,IAFoB,CAEb,CAAEN,EAAE,CAAFA,EAAF,CAAMI,OAAO,CAAPA,OAAN,CAFa,uBAGHG,CAAAA,KAAK,CAC1B,sBAD0B,CAE1B,CACEC,MAAM,CAAE,MADV,CAEEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFX,CAGEH,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CAHR,CAF0B,CAHF,QAGpBM,QAHoB,qCAWHA,CAAAA,QAAQ,CAACC,IAAT,EAXG,QAWpBC,QAXoB,eAY1BX,YAAY,CAACW,QAAD,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAb0B,iFAe1BC,OAAO,CAACE,KAAR,CAAc,YAAMC,OAApB,EAf0B,qEAAH,kBAArBb,CAAAA,qBAAqB,2CAA3B,CAoBAR,SAAS,CAAC,UAAM,CACdQ,qBAAqB,GACtB,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,oBAAC,QAAD,mBACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,cAAY,OAHd,CAIE,2BAAmBN,UAAnB,CAJF,mBADF,cASE,2BAAK,SAAS,CAAC,OAAf,CAAuB,EAAE,aAAOA,UAAP,CAAzB,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,0BAAI,SAAS,CAAC,aAAd,EAA6BE,IAA7B,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,YAAf,EAJF,cAKE,8CACA,8CACI,2CACI,qCADJ,cAEI,yCAFJ,CADJ,CADA,cAOR,iCACKC,SAAS,CAACiB,GAAV,CAAc,SAACC,IAAD,qBACX,0BAAI,GAAG,CAAEA,IAAI,CAACC,cAAd,eACA,8BAAKD,IAAI,CAACC,cAAV,CADA,cAEA,8BAAKD,IAAI,CAACE,GAAV,CAFA,CADW,EAAd,CADL,CAPQ,CALF,cAqBE,2BAAK,SAAS,CAAC,cAAf,eACE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,eAAa,OAAjD,UADF,CArBF,CADF,CADF,CATF,CADF,CA2CD,CAxED,CA0EA,cAAexB,CAAAA,kBAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\n\r\nconst InventoryBreakdown = ({ product_id, id, name }) => {\r\n    const [breakdown, setBreakdown] = useState([]);\r\n  const product = product_id;\r\n\r\n\r\n  const getInventoryBreakdown = async () => {\r\n    try {\r\n      const body = { id, product };\r\n      const response = await fetch(\r\n        \"/inventory/breakdown\",\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-type\": \"application/json\" },\r\n          body: JSON.stringify(body),\r\n        }\r\n      );\r\n      const parseRes = await response.json();\r\n      setBreakdown(parseRes);\r\n      console.log(parseRes);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getInventoryBreakdown();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-info\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${product_id}`}\r\n      >\r\n        View Breakdown\r\n      </button>\r\n      <div className=\"modal\" id={`id${product_id}`}>\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">{name}</h4>\r\n            </div>\r\n            <div className=\"modal-body\"></div>\r\n            <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Area</th>\r\n                    <th>Quantity</th>\r\n                </tr>\r\n            </thead>\r\n    <tbody>\r\n        {breakdown.map((list) => (\r\n            <tr key={list.stocklist_name}>\r\n            <td>{list.stocklist_name}</td>\r\n            <td>{list.sum}</td>\r\n            </tr>\r\n        ))}\r\n    </tbody>\r\n    </table>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-success\" data-dismiss=\"modal\">\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default InventoryBreakdown;\r\n"]},"metadata":{},"sourceType":"module"}