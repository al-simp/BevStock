{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";var AddList=function AddList(_ref){var setListsChange=_ref.setListsChange;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),stocklist_name=_useState2[0],setStocklistName=_useState2[1];var onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var myHeaders,body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");myHeaders.append(\"token\",localStorage.token);body={stocklist_name:stocklist_name};_context.next=8;return fetch(\"/stocklists/add\",{method:\"POST\",headers:myHeaders,body:JSON.stringify(body)});case 8:response=_context.sent;_context.next=11;return response.json();case 11:setListsChange(true);setStocklistName(\"\");_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"form\",{className:\"d-flex\",onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"add new stock area\",className:\"form-control\",value:stocklist_name,onChange:function onChange(e){return setStocklistName(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success \"},\"Add\")));};export default AddList;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/stocktaking/AddList.js"],"names":["React","Fragment","useState","AddList","setListsChange","stocklist_name","setStocklistName","onSubmitForm","e","preventDefault","myHeaders","Headers","append","localStorage","token","body","fetch","method","headers","JSON","stringify","response","json","console","error","message","target","value"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAwB,IAArBC,CAAAA,cAAqB,MAArBA,cAAqB,eACOF,QAAQ,CAAC,EAAD,CADf,wCAC7BG,cAD6B,eACbC,gBADa,eAGpC,GAAMC,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,8IACnBA,CAAC,CAACC,cAAF,GADmB,gBAGXC,SAHW,CAGC,GAAIC,CAAAA,OAAJ,EAHD,CAKjBD,SAAS,CAACE,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACAF,SAAS,CAACE,MAAV,CAAiB,OAAjB,CAA0BC,YAAY,CAACC,KAAvC,EAEMC,IARW,CAQJ,CAAEV,cAAc,CAAdA,cAAF,CARI,uBASMW,CAAAA,KAAK,CAAC,iBAAD,CAAoB,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAER,SAFqC,CAG9CK,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CAHwC,CAApB,CATX,QASXM,QATW,sCAeXA,CAAAA,QAAQ,CAACC,IAAT,EAfW,SAiBjBlB,cAAc,CAAC,IAAD,CAAd,CACAE,gBAAgB,CAAC,EAAD,CAAhB,CAlBiB,iFAoBjBiB,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EApBiB,qEAAH,kBAAZlB,CAAAA,YAAY,6CAAlB,CAuBA,mBACE,oBAAC,QAAD,mBACC,4BAAM,SAAS,CAAC,QAAhB,CAAyB,QAAQ,CAAEA,YAAnC,eACG,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,oBAFd,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAEF,cAJT,CAKE,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,CAAAA,gBAAgB,CAACE,CAAC,CAACkB,MAAF,CAASC,KAAV,CAApB,EALb,EADH,cAQG,8BAAQ,SAAS,CAAC,kBAAlB,QARH,CADD,CADF,CAeD,CAzCH,CA2CE,cAAexB,CAAAA,OAAf","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\nconst AddList = ({ setListsChange }) => {\r\n    const [stocklist_name, setStocklistName] = useState(\"\");\r\n  \r\n    const onSubmitForm = async e => {\r\n      e.preventDefault();\r\n      try {\r\n        const myHeaders = new Headers();\r\n  \r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        myHeaders.append(\"token\", localStorage.token);\r\n  \r\n        const body = { stocklist_name };\r\n        const response = await fetch(\"/stocklists/add\", {\r\n          method: \"POST\",\r\n          headers: myHeaders,\r\n          body: JSON.stringify(body)\r\n        });\r\n  \r\n        await response.json();\r\n      \r\n        setListsChange(true);\r\n        setStocklistName(\"\");\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    };\r\n    return (\r\n      <Fragment>       \r\n       <form className=\"d-flex\" onSubmit={onSubmitForm}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"add new stock area\"\r\n            className=\"form-control\"\r\n            value={stocklist_name}\r\n            onChange={e => setStocklistName(e.target.value)}\r\n          />\r\n          <button className=\"btn btn-success \">Add</button>\r\n        </form>\r\n        </Fragment>\r\n\r\n    );\r\n  };\r\n  \r\n  export default AddList;\r\n  "]},"metadata":{},"sourceType":"module"}