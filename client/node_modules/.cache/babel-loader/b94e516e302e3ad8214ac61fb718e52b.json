{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";var DashboardLists=function DashboardLists(_ref){var stocktake=_ref.stocktake;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allLists=_useState2[0],setAllLists=_useState2[1];var getLists=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/stocklists/\",{method:\"GET\",headers:{token:localStorage.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:parseRes=_context.sent;setAllLists(parseRes);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getLists(){return _ref2.apply(this,arguments);};}();useEffect(function(){getLists();},[]);return!stocktake?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Area\"),/*#__PURE__*/React.createElement(\"th\",null,\"View/Edit\"))),/*#__PURE__*/React.createElement(\"tbody\",null,allLists.map(function(list){return/*#__PURE__*/React.createElement(\"tr\",{key:list.stocklist_id},/*#__PURE__*/React.createElement(\"td\",null,list.stocklist_name),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"badge badge-pill badge-primary\",href:\"viewedit/\".concat(list.stocklist_id)},\"View/Edit\")));})))):/*#__PURE__*/React.createElement(\"div\",null,\"Stockatke in progress\");};export default DashboardLists;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/stocktaking/DashboardLists.js"],"names":["React","useEffect","useState","DashboardLists","stocktake","allLists","setAllLists","getLists","fetch","method","headers","token","localStorage","response","json","parseRes","console","error","message","map","list","stocklist_id","stocklist_name"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,eACRF,QAAQ,CAAC,EAAD,CADA,wCACjCG,QADiC,eACvBC,WADuB,eAExC,GAAMC,CAAAA,QAAQ,2FAAG,+LAEUC,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC3CC,MAAM,CAAE,KADmC,CAE3CC,OAAO,CAAE,CAAEC,KAAK,CAAEC,YAAY,CAACD,KAAtB,CAFkC,CAAjB,CAFf,QAEPE,QAFO,qCAMUA,CAAAA,QAAQ,CAACC,IAAT,EANV,QAMPC,QANO,eAObT,WAAW,CAACS,QAAD,CAAX,CAPa,iFASXC,OAAO,CAACC,KAAR,CAAc,YAAMC,OAApB,EATW,qEAAH,kBAARX,CAAAA,QAAQ,2CAAd,CAaAN,SAAS,CAAC,UAAM,CACdM,QAAQ,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA,MAAO,CAACH,SAAD,cACL,4CACE,6BAAO,SAAS,CAAC,8BAAjB,eACE,8CACE,2CACE,qCADF,cAEE,0CAFF,CADF,CADF,cAOE,iCACGC,QAAQ,CAACc,GAAT,CAAa,SAACC,IAAD,qBACZ,0BAAI,GAAG,CAAEA,IAAI,CAACC,YAAd,eACE,8BAAKD,IAAI,CAACE,cAAV,CADF,cAEE,2CACE,yBACE,SAAS,CAAC,gCADZ,CAEE,IAAI,oBAAcF,IAAI,CAACC,YAAnB,CAFN,cADF,CAFF,CADY,EAAb,CADH,CAPF,CADF,CADK,cA0BF,uDA1BL,CA2BD,CA9CD,CA+CA,cAAelB,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst DashboardLists = ({ stocktake }) => {\r\n  const [allLists, setAllLists] = useState([]);\r\n  const getLists = async () => {\r\n    try {\r\n      const response = await fetch(\"/stocklists/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n      const parseRes = await response.json();\r\n      setAllLists(parseRes);\r\n    } catch (error) {\r\n        console.error(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getLists();\r\n  }, []);\r\n\r\n  return !stocktake ? (\r\n    <div>\r\n      <table className=\"table table-striped table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>Area</th>\r\n            <th>View/Edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {allLists.map((list) => (\r\n            <tr key={list.stocklist_id}>\r\n              <td>{list.stocklist_name}</td>\r\n              <td>\r\n                <a\r\n                  className=\"badge badge-pill badge-primary\"\r\n                  href={`viewedit/${list.stocklist_id}`}\r\n                >\r\n                  View/Edit\r\n                </a>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  ) : (<div>Stockatke in progress</div>);\r\n};\r\nexport default DashboardLists;\r\n"]},"metadata":{},"sourceType":"module"}