{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import{toast}from\"react-toastify\";var AddTeamMember=function AddTeamMember(_ref){var setTeamChange=_ref.setTeamChange;var _useState=useState({email:\"\",password:\"\",name:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var email=inputs.email,password=inputs.password,name=inputs.name;var _onChange=function onChange(e){setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var modal,modalBackdrops,userRole,role,body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:modal=document.getElementById(\"myModal\");e.preventDefault();modal.setAttribute(\"style\",\"display: none\");modalBackdrops=document.getElementsByClassName(\"modal-backdrop\");document.body.removeChild(modalBackdrops[0]);userRole=document.getElementById(\"userrole\");role=userRole.value;_context.prev=7;body={email:email,password:password,name:name,role:role};_context.next=11;return fetch(\"/teammanagement/add\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 11:response=_context.sent;_context.next=14;return response.json();case 14:toast.success(\"Registered Successfully!\");setInputs({email:\"\",password:\"\",name:\"\"});setTeamChange(true);_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](7);console.error(_context.t0.message);case 22:case\"end\":return _context.stop();}}},_callee,null,[[7,19]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info btn-lg\",\"data-toggle\":\"modal\",\"data-target\":\"#myModal\"},\"Add team member\"),/*#__PURE__*/React.createElement(\"div\",{id:\"myModal\",className:\"modal fade\",role:\"dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},\"Add new team member\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\"},\"\\xD7\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",className:\"form-control my-3\",value:email,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",className:\"form-control my-3\",value:password,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",placeholder:\"name\",className:\"form-control my-3\",value:name,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control my-3\",id:\"userrole\"},/*#__PURE__*/React.createElement(\"option\",{value:\"User\"},\"Bar Staff\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Admin\"},\"Manager\")),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-block\"},\"Submit\")))))));};export default AddTeamMember;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/team_management/AddTeamMember.js"],"names":["React","Fragment","useState","toast","AddTeamMember","setTeamChange","email","password","name","inputs","setInputs","onChange","e","target","value","onSubmitForm","modal","document","getElementById","preventDefault","setAttribute","modalBackdrops","getElementsByClassName","body","removeChild","userRole","role","fetch","method","headers","JSON","stringify","response","json","success","console","error","message"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AddTeamMember = ({ setTeamChange }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const { email, password, name } = inputs;\r\n\r\n  const onChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmitForm = async (e) => {\r\n    const modal = document.getElementById(\"myModal\");\r\n    e.preventDefault();\r\n    modal.setAttribute(\"style\", \"display: none\");\r\n    const modalBackdrops = document.getElementsByClassName(\"modal-backdrop\");\r\n    document.body.removeChild(modalBackdrops[0]);\r\n\r\n    const userRole = document.getElementById(\"userrole\");\r\n    const role = userRole.value;\r\n\r\n    try {\r\n      const body = { email, password, name, role };\r\n\r\n      const response = await fetch(\"/teammanagement/add\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      await response.json();\r\n\r\n      toast.success(\"Registered Successfully!\");\r\n\r\n      setInputs({\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n      });\r\n\r\n      setTeamChange(true);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-info btn-lg\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#myModal\"\r\n      >\r\n        Add team member\r\n      </button>\r\n\r\n      <div id=\"myModal\" className=\"modal fade\" role=\"dialog\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Add new team member</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={onSubmitForm}>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"email\"\r\n                  className=\"form-control my-3\"\r\n                  value={email}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"password\"\r\n                  className=\"form-control my-3\"\r\n                  value={password}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  placeholder=\"name\"\r\n                  className=\"form-control my-3\"\r\n                  value={name}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <select className=\"form-control my-3\" id=\"userrole\">\r\n                  <option value=\"User\">Bar Staff</option>\r\n                  <option value=\"Admin\">Manager</option>\r\n                </select>\r\n                <button className=\"btn btn-success btn-block\">Submit</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AddTeamMember;\r\n"]},"metadata":{},"sourceType":"module"}