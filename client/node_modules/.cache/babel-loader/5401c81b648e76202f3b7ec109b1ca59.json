{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment}from\"react\";import{useState}from\"react\";import{toast}from\"react-toastify\";var AddNewProduct=function AddNewProduct(_ref){var setProductsChange=_ref.setProductsChange;var _useState=useState({name:\"\",size:\"\",par:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var name=inputs.name,size=inputs.size,par=inputs.par;var _onChange=function onChange(e){setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},e.target.name,e.target.value)));};//Method to fire once the form has been submitted\nvar onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var modal,modalBackdrops,productCategory,category,body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://find the modal and assign to a Javascript const\nmodal=document.getElementById(\"product-modal\");e.preventDefault();//close the modal\nmodal.setAttribute(\"style\",\"display: none\");modalBackdrops=document.getElementsByClassName(\"modal-backdrop\");document.body.removeChild(modalBackdrops[0]);//get the value of category select input.\nproductCategory=document.getElementById(\"category\");category=productCategory.value;_context.prev=7;//fill the request body with the new details\nbody={name:name,size:size,par:par,category:category};//make a post request through the /products/ server route\n_context.next=11;return fetch(\"/products/new\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 11:response=_context.sent;_context.next=14;return response.json();case 14://notifictation displayed \ntoast.success(\"Registered Successfully!\");setInputs({name:\"\",size:\"\",par:\"\"});//set products change in order to fire useEffect hook\nsetProductsChange(true);_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](7);console.error(_context.t0.message);case 22:case\"end\":return _context.stop();}}},_callee,null,[[7,19]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-sm btn-primary form-control\",\"data-toggle\":\"modal\",\"data-target\":\"#product-modal\"},\"Add New Product\"),/*#__PURE__*/React.createElement(\"div\",{id:\"product-modal\",className:\"modal fade\",role:\"dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},\"Add a new Product\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\"},\"\\xD7\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",placeholder:\"Product Name\",className:\"form-control my-3\",value:name,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"size\",placeholder:\"Product Size\",className:\"form-control my-3\",value:size,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"par\",placeholder:\"Par Level\",className:\"form-control my-3\",value:par,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control my-3\",id:\"category\"},/*#__PURE__*/React.createElement(\"option\",{value:\"Rum\"},\"Vodka\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Vodka\"},\"Rum\")),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-block\"},\"Submit\")))))));};export default AddNewProduct;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/inventory/AddNewProduct.js"],"names":["React","Fragment","useState","toast","AddNewProduct","setProductsChange","name","size","par","inputs","setInputs","onChange","e","target","value","onSubmitForm","modal","document","getElementById","preventDefault","setAttribute","modalBackdrops","getElementsByClassName","body","removeChild","productCategory","category","fetch","method","headers","JSON","stringify","response","json","success","console","error","message"],"mappings":"oxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAA2B,IAAxBC,CAAAA,iBAAwB,MAAxBA,iBAAwB,eACnBH,QAAQ,CAAC,CACnCI,IAAI,CAAE,EAD6B,CAEnCC,IAAI,CAAE,EAF6B,CAGnCC,GAAG,CAAE,EAH8B,CAAD,CADW,wCACxCC,MADwC,eAChCC,SADgC,kBAOvCJ,CAAAA,IAPuC,CAOnBG,MAPmB,CAOvCH,IAPuC,CAOjCC,IAPiC,CAOnBE,MAPmB,CAOjCF,IAPiC,CAO3BC,GAP2B,CAOnBC,MAPmB,CAO3BD,GAP2B,CAQ/C,GAAMG,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBF,SAAS,gCAAMD,MAAN,wBAAeG,CAAC,CAACC,MAAF,CAASP,IAAxB,CAA+BM,CAAC,CAACC,MAAF,CAASC,KAAxC,GAAT,CACD,CAFD,CAIA;AACA,GAAMC,CAAAA,YAAY,2FAAG,iBAAOH,CAAP,kLAEnB;AACMI,KAHa,CAGLC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAHK,CAInBN,CAAC,CAACO,cAAF,GAEA;AACAH,KAAK,CAACI,YAAN,CAAmB,OAAnB,CAA4B,eAA5B,EACMC,cARa,CAQIJ,QAAQ,CAACK,sBAAT,CAAgC,gBAAhC,CARJ,CASnBL,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BH,cAAc,CAAC,CAAD,CAAxC,EAEA;AACMI,eAZa,CAYKR,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAZL,CAabQ,QAba,CAaFD,eAAe,CAACX,KAbd,iBAiBnB;AACQS,IAlBW,CAkBJ,CAAEjB,IAAI,CAAJA,IAAF,CAAQC,IAAI,CAAJA,IAAR,CAAcC,GAAG,CAAHA,GAAd,CAAmBkB,QAAQ,CAARA,QAAnB,CAlBI,CAoBnB;AApBmB,uBAqBMC,CAAAA,KAAK,CAAC,eAAD,CAAkB,CAC5CC,MAAM,CAAE,MADoC,CAE5CC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFmC,CAG5CN,IAAI,CAAEO,IAAI,CAACC,SAAL,CAAeR,IAAf,CAHsC,CAAlB,CArBX,SAqBXS,QArBW,sCA4BXA,CAAAA,QAAQ,CAACC,IAAT,EA5BW,SA8BnB;AACE9B,KAAK,CAAC+B,OAAN,CAAc,0BAAd,EAEAxB,SAAS,CAAC,CACRJ,IAAI,CAAE,EADE,CAERC,IAAI,CAAE,EAFE,CAGRC,GAAG,CAAE,EAHG,CAAD,CAAT,CAMA;AACAH,iBAAiB,CAAC,IAAD,CAAjB,CAxCiB,iFA4CjB8B,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EA5CiB,qEAAH,kBAAZtB,CAAAA,YAAY,6CAAlB,CAgDA,mBACE,oBAAC,QAAD,mBACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iCAFZ,CAGE,cAAY,OAHd,CAIE,cAAY,gBAJd,oBADF,cAUE,2BAAK,EAAE,CAAC,eAAR,CAAwB,SAAS,CAAC,YAAlC,CAA+C,IAAI,CAAC,QAApD,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,0BAAI,SAAS,CAAC,aAAd,sBADF,cAEE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,OAAhC,CAAwC,eAAa,OAArD,SAFF,CADF,cAOE,2BAAK,SAAS,CAAC,YAAf,eAEE,4BAAM,QAAQ,CAAEA,YAAhB,eAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,cAHd,CAIE,SAAS,CAAC,mBAJZ,CAKE,KAAK,CAAET,IALT,CAME,QAAQ,CAAE,kBAACM,CAAD,QAAOD,CAAAA,SAAQ,CAACC,CAAD,CAAf,EANZ,EAFF,cAUE,6BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,cAHd,CAIE,SAAS,CAAC,mBAJZ,CAKE,KAAK,CAAEL,IALT,CAME,QAAQ,CAAE,kBAACK,CAAD,QAAOD,CAAAA,SAAQ,CAACC,CAAD,CAAf,EANZ,EAVF,cAkBE,6BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,KAFP,CAGE,WAAW,CAAC,WAHd,CAIE,SAAS,CAAC,mBAJZ,CAKE,KAAK,CAAEJ,GALT,CAME,QAAQ,CAAE,kBAACI,CAAD,QAAOD,CAAAA,SAAQ,CAACC,CAAD,CAAf,EANZ,EAlBF,cA0BE,8BAAQ,SAAS,CAAC,mBAAlB,CAAsC,EAAE,CAAC,UAAzC,eACE,8BAAQ,KAAK,CAAC,KAAd,UADF,cAEE,8BAAQ,KAAK,CAAC,OAAd,QAFF,CA1BF,cA8BE,8BAAQ,SAAS,CAAC,2BAAlB,WA9BF,CAFF,CAPF,CADF,CADF,CAVF,CADF,CA4DD,CAzHD,CA2HA,cAAeR,CAAAA,aAAf","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nconst AddNewProduct = ({ setProductsChange }) => {\r\n  const [inputs, setInputs] = useState({\r\n    name: \"\",\r\n    size: \"\",\r\n    par: \"\",\r\n  });\r\n\r\n  const { name, size, par } = inputs;\r\n  const onChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //Method to fire once the form has been submitted\r\n  const onSubmitForm = async (e) => {\r\n    \r\n    //find the modal and assign to a Javascript const\r\n    const modal = document.getElementById(\"product-modal\");\r\n    e.preventDefault();\r\n\r\n    //close the modal\r\n    modal.setAttribute(\"style\", \"display: none\");\r\n    const modalBackdrops = document.getElementsByClassName(\"modal-backdrop\");\r\n    document.body.removeChild(modalBackdrops[0]);\r\n\r\n    //get the value of category select input.\r\n    const productCategory = document.getElementById(\"category\");\r\n    const category = productCategory.value;\r\n\r\n    try {\r\n\r\n    //fill the request body with the new details\r\n      const body = { name, size, par, category };\r\n\r\n    //make a post request through the /products/ server route\r\n      const response = await fetch(\"/products/new\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n    //wait for the response from the server-side\r\n      await response.json();\r\n\r\n    //notifictation displayed \r\n      toast.success(\"Registered Successfully!\");\r\n\r\n      setInputs({\r\n        name: \"\",\r\n        size: \"\",\r\n        par: \"\",\r\n      });\r\n\r\n      //set products change in order to fire useEffect hook\r\n      setProductsChange(true);\r\n\r\n      \r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn-sm btn-primary form-control\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#product-modal\"\r\n      >\r\n        Add New Product\r\n      </button>\r\n\r\n      <div id=\"product-modal\" className=\"modal fade\" role=\"dialog\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Add a new Product</h4>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\r\n                &times;\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n\r\n              <form onSubmit={onSubmitForm}>\r\n              \r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  placeholder=\"Product Name\"\r\n                  className=\"form-control my-3\"\r\n                  value={name}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"size\"\r\n                  placeholder=\"Product Size\"\r\n                  className=\"form-control my-3\"\r\n                  value={size}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"par\"\r\n                  placeholder=\"Par Level\"\r\n                  className=\"form-control my-3\"\r\n                  value={par}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <select className=\"form-control my-3\" id=\"category\">\r\n                  <option value=\"Rum\">Vodka</option>\r\n                  <option value=\"Vodka\">Rum</option>\r\n                </select>\r\n                <button className=\"btn btn-success btn-block\">Submit</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AddNewProduct;\r\n"]},"metadata":{},"sourceType":"module"}