{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\src\\\\App.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './dashboard.css'; //components\n\nimport Dashboard from \"./components/Dashboard\";\nimport Login from \"./components/Login\";\nimport Landing from \"./components/Landing\";\nimport Stocktaking from \"./components/stocktaking/Stocktaking\";\nimport TeamManagement from \"./components/team_management/TeamManagement\";\nimport Count from \"./components/stocktaking/Count\";\nimport Inventory from \"./components/inventory/Inventory\";\nimport UserDashboard from \"./user/UserDashboard\";\nimport UserStocktake from \"./user/UserStocktake\";\nimport QrScan from \"./components/stocktaking/QrScan\";\nimport QRGen from \"./helpers/qrCodeGen\";\nimport ViewEdit from \"./components/stocktaking/ViewEdit\";\nimport StockTakeLists from \"./components/stocktaking/StocktakeLists\";\nimport Nav from \"./components/Nav\";\nimport ProductsDb from \"./components/inventory/ProductsDB\";\ntoast.configure();\n\nconst App = () => {\n  const [name, setName] = useState(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState(true);\n\n  const setAuth = boolean => {\n    setIsAuthenticated(boolean);\n  };\n\n  async function isAuth() {\n    try {\n      const response = await fetch(\"http://localhost:5000/auth/is-verify\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json();\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard/\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json();\n      setName(parseRes.user_name);\n    } catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  useEffect(() => {\n    getName();\n    isAuth();\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    setIsAuthenticated: setIsAuthenticated,\n    isAuthenticated: isAuthenticated,\n    name: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: props => !isAuthenticated ? /*#__PURE__*/React.createElement(Landing, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(Dashboard, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/stocktaking\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(Stocktaking, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/team\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(TeamManagement, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/count/:id/:stocktakeid\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(Count, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/viewedit/:id\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(ViewEdit, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/inventory/:id\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(Inventory, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/stocktakelists\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(StockTakeLists, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/userdashboard\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(UserDashboard, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/userstocktaking\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(UserStocktake, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/products\",\n    render: props => isAuthenticated ? /*#__PURE__*/React.createElement(ProductsDb, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/qrscan\",\n    render: isAuthenticated ? () => /*#__PURE__*/React.createElement(QrScan, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 45\n      }\n    }) : () => /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 64\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/qrgen\",\n    render: () => /*#__PURE__*/React.createElement(QRGen, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 52\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/App.js"],"names":["React","Fragment","useState","useEffect","BrowserRouter","Router","Switch","Route","Redirect","toast","Dashboard","Login","Landing","Stocktaking","TeamManagement","Count","Inventory","UserDashboard","UserStocktake","QrScan","QRGen","ViewEdit","StockTakeLists","Nav","ProductsDb","configure","App","name","setName","isAuthenticated","setIsAuthenticated","setAuth","boolean","isAuth","response","fetch","method","headers","token","localStorage","parseRes","json","err","console","error","message","getName","user_name","log","props"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,EAAoCC,SAApC,QAAqD,OAArD;AAEA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,QAJF,QAKO,kBALP;AAOA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,OAAO,sCAAP;AACA,OAAO,iBAAP,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,cAAP,MAA2B,6CAA3B;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,cAAP,MAA2B,yCAA3B;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AAEAf,KAAK,CAACgB,SAAN;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB1B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC2B,eAAD,EAAkBC,kBAAlB,IAAwC5B,QAAQ,CAAC,IAAD,CAAtD;;AACA,QAAM6B,OAAO,GAAIC,OAAD,IAAa;AAC3BF,IAAAA,kBAAkB,CAACE,OAAD,CAAlB;AACD,GAFD;;AAMA,iBAAeC,MAAf,GAAwB;AACtB,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAD,EAAyC;AACnEC,QAAAA,MAAM,EAAE,KAD2D;AAEnEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAEC,YAAY,CAACD;AAAtB;AAF0D,OAAzC,CAA5B;AAKA,YAAME,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAvB;AAEAD,MAAAA,QAAQ,KAAK,IAAb,GAAoBV,kBAAkB,CAAC,IAAD,CAAtC,GAA+CA,kBAAkB,CAAC,KAAD,CAAjE;AACD,KATD,CASE,OAAOY,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB;AACD;AACF;;AAED,iBAAeC,OAAf,GAAyB;AACvB,QAAI;AACF,YAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAD,EAAqC;AAC/DC,QAAAA,MAAM,EAAE,KADuD;AAE/DC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAEC,YAAY,CAACD;AAAtB;AAFsD,OAArC,CAA5B;AAKA,YAAME,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAvB;AAEAb,MAAAA,OAAO,CAACY,QAAQ,CAACO,SAAV,CAAP;AACD,KATD,CASE,OAAOL,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACK,GAAR,CAAYN,GAAG,CAACG,OAAhB;AACD;AACF;;AAED1C,EAAAA,SAAS,CAAC,MAAM;AACd2C,IAAAA,OAAO;AACPb,IAAAA,MAAM;AACP,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,kBAAkB,EAAEH,kBAAzB;AAA6C,IAAA,eAAe,EAAED,eAA9D;AAA+E,IAAA,IAAI,EAAEF,IAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,GAFP;AAGE,IAAA,MAAM,EAAGsB,KAAD,IACN,CAACpB,eAAD,gBACE,oBAAC,OAAD,oBAAaoB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,gBAGE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAYE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,MAAM,EAAGA,KAAD,IACNpB,eAAe,gBACb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,gBAGb,oBAAC,KAAD,oBAAWoB,KAAX;AAAkB,MAAA,OAAO,EAAElB,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,eAuBE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,YAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,SAAD,oBAAeoB,KAAf;AAAsB,MAAA,OAAO,EAAElB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,eAkCE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,WAAD,oBAAiBoB,KAAjB;AAAwB,MAAA,OAAO,EAAElB,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCF,eA6CE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,cAAD,oBAAoBoB,KAApB;AAA2B,MAAA,OAAO,EAAElB,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7CF,eAwDE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,yBAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,KAAD,oBAAWoB,KAAX;AAAkB,MAAA,OAAO,EAAElB,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxDF,eAmEE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,eAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,QAAD,oBAAcoB,KAAd;AAAqB,MAAA,OAAO,EAAElB,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnEF,eA8EE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,gBAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,SAAD,oBAAeoB,KAAf;AAAsB,MAAA,OAAO,EAAElB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9EF,eAyFE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,iBAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,cAAD,oBAAoBoB,KAApB;AAA2B,MAAA,OAAO,EAAElB,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzFF,eAoGE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,gBAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,aAAD,oBAAmBoB,KAAnB;AAA0B,MAAA,OAAO,EAAElB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApGF,eA+GE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,kBAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,aAAD,oBAAmBoB,KAAnB;AAA0B,MAAA,OAAO,EAAElB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/GF,eA0HE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,MAAM,EAAGkB,KAAD,IACNpB,eAAe,gBACb,oBAAC,UAAD,oBAAgBoB,KAAhB;AAAuB,MAAA,OAAO,EAAElB,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADa,gBAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1HF,eAsIE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,MAAM,EAAEF,eAAe,GAAG,mBAAM,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAT,GAAsB,mBAAM,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtIF,eA2IE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,MAAM,EAAE,mBAAM,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3IF,CADF,CAFF,CADF;AAsJD,CAlMD;;AAoMA,eAAeH,GAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './dashboard.css';\n\n//components\nimport Dashboard from \"./components/Dashboard\";\nimport Login from \"./components/Login\";\nimport Landing from \"./components/Landing\";\nimport Stocktaking from \"./components/stocktaking/Stocktaking\";\nimport TeamManagement from \"./components/team_management/TeamManagement\";\nimport Count from \"./components/stocktaking/Count\";\nimport Inventory from \"./components/inventory/Inventory\";\nimport UserDashboard from \"./user/UserDashboard\";\nimport UserStocktake from \"./user/UserStocktake\";\nimport QrScan from \"./components/stocktaking/QrScan\";\nimport QRGen from \"./helpers/qrCodeGen\";\nimport ViewEdit from \"./components/stocktaking/ViewEdit\";\nimport StockTakeLists from \"./components/stocktaking/StocktakeLists\";\nimport Nav from \"./components/Nav\";\nimport ProductsDb from \"./components/inventory/ProductsDB\";\n\ntoast.configure();\n\nconst App = () => {\n  const [name, setName] = useState(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState(true);\n  const setAuth = (boolean) => {\n    setIsAuthenticated(boolean);\n  };\n\n\n\n  async function isAuth() {\n    try {\n      const response = await fetch(\"http://localhost:5000/auth/is-verify\", {\n        method: \"GET\",\n        headers: { token: localStorage.token },\n      });\n\n      const parseRes = await response.json();\n\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard/\", {\n        method: \"GET\",\n        headers: { token: localStorage.token },\n      });\n\n      const parseRes = await response.json();\n\n      setName(parseRes.user_name);\n    } catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  useEffect(() => {\n    getName();\n    isAuth();\n  }, []);\n\n  return (\n    <Fragment>\n    <Nav setIsAuthenticated={setIsAuthenticated} isAuthenticated={isAuthenticated} name={name}/>\n      <Router>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={(props) =>\n              !isAuthenticated ? (\n                <Landing {...props} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) =>\n              isAuthenticated ? (\n                <Redirect to=\"/dashboard\" />\n              ) : (\n                <Login {...props} setAuth={setAuth} />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/dashboard\"\n            render={(props) =>\n              isAuthenticated ? (\n                <Dashboard {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/stocktaking\"\n            render={(props) =>\n              isAuthenticated ? (\n                <Stocktaking {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/team\"\n            render={(props) =>\n              isAuthenticated ? (\n                <TeamManagement {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/count/:id/:stocktakeid\"\n            render={(props) =>\n              isAuthenticated ? (\n                <Count {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/viewedit/:id\"\n            render={(props) =>\n              isAuthenticated ? (\n                <ViewEdit {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/inventory/:id\"\n            render={(props) =>\n              isAuthenticated ? (\n                <Inventory {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/stocktakelists\"\n            render={(props) =>\n              isAuthenticated ? (\n                <StockTakeLists {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/dashboard\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/userdashboard\"\n            render={(props) =>\n              isAuthenticated ? (\n                <UserDashboard {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/userstocktaking\"\n            render={(props) =>\n              isAuthenticated ? (\n                <UserStocktake {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            exact\n            path=\"/products\"\n            render={(props) =>\n              isAuthenticated ? (\n                <ProductsDb {...props} setAuth={setAuth}/>\n              ) : (\n                <Redirect to=\"/login\" />\n              )\n            }\n          />\n\n          <Route\n            exact\n            path=\"/qrscan\"\n            render={isAuthenticated ? () => <QrScan /> : () => <Login />}\n          />\n          <Route exact path=\"/qrgen\" render={() => <QRGen />} />\n\n\n        </Switch>\n      </Router>\n    </Fragment>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}