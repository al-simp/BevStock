{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Fragment, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nconst Login = ({\n  setAuth\n}) => {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const IPAddress = \"192.168.0.25\";\n  const {\n    email,\n    password\n  } = inputs;\n\n  const onChange = e => {\n    setInputs({ ...inputs,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmitform = async e => {\n    e.preventDefault();\n\n    try {\n      const body = {\n        email,\n        password\n      };\n      const response = await fetch(`http://localhost:5000/auth/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      const parseRes = await response.json();\n\n      if (parseRes.token) {\n        localStorage.setItem(\"token\", parseRes.token);\n        localStorage.setItem(\"role\", parseRes.role);\n        setAuth(true);\n        toast.success(\"Login successful!\");\n      } else {\n        setAuth(false);\n        toast.error(parseRes);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"body\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://getbootstrap.com/assets/brand/bootstrap-solid.svg\",\n    alt: \"\",\n    width: \"72\",\n    height: \"72\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h3 mb-3 font-weight-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Please sign in\"), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"inputEmail\",\n    className: \"form-control\",\n    placeholder: \"Email address\",\n    required: true,\n    autofocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputPassword\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"inputPassword\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg btn-primary btn-block\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-5 mb-3 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"\\xA9 2017-2018\")))\n  /* <main role=\"main\" >\r\n     <h1 className=\"text-center my-5\">Login</h1>\r\n     <form onSubmit={onSubmitform}>\r\n       <input\r\n         type=\"email\"\r\n         name=\"email\"\r\n         placeholder=\"email\"\r\n         className=\"form-control my-3\"\r\n         value={email}\r\n         onChange={(e) => onChange(e)}\r\n       />\r\n       <input\r\n         type=\"password\"\r\n         name=\"password\"\r\n         placeholder=\"password\"\r\n         className=\"form-control my-3\"\r\n         onChange={(e) => onChange(e)}\r\n       />\r\n       <button className=\"btn btn-success btn-block\">Submit</button>\r\n     </form>\r\n   </main>\r\n  */\n  ;\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/Login.js"],"names":["React","Fragment","useState","Link","toast","Login","setAuth","inputs","setInputs","email","password","IPAddress","onChange","e","target","name","value","onSubmitform","preventDefault","body","response","fetch","method","headers","JSON","stringify","parseRes","json","token","localStorage","setItem","role","success","error","err","console","message"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nconst Login = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n\r\n  const IPAddress = \"192.168.0.25\";\r\n\r\n  const { email, password } = inputs;\r\n\r\n  const onChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmitform = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { email, password };\r\n\r\n      const response = await fetch(`http://localhost:5000/auth/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const parseRes = await response.json();\r\n\r\n      if (parseRes.token) {\r\n        localStorage.setItem(\"token\", parseRes.token);\r\n        localStorage.setItem(\"role\", parseRes.role);\r\n\r\n        setAuth(true);\r\n\r\n        toast.success(\"Login successful!\");\r\n      } else {\r\n        setAuth(false);\r\n\r\n        toast.error(parseRes);\r\n      }\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n<body className=\"text-center\">\r\n    <form className=\"form-signin\">\r\n      <img className=\"mb-4\" src=\"https://getbootstrap.com/assets/brand/bootstrap-solid.svg\" alt=\"\" width=\"72\" height=\"72\"/>\r\n      <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n      <label for=\"inputEmail\" className=\"sr-only\">Email address</label>\r\n      <input type=\"email\" id=\"inputEmail\" className=\"form-control\" placeholder=\"Email address\" required autofocus/>\r\n      <label for=\"inputPassword\" className=\"sr-only\">Password</label>\r\n      <input type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" required/>\r\n      <div className=\"checkbox mb-3\">\r\n      </div>\r\n      <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n      <p className=\"mt-5 mb-3 text-muted\">&copy; 2017-2018</p>\r\n    </form>\r\n  </body>\r\n     \r\n     /* <main role=\"main\" >\r\n        <h1 className=\"text-center my-5\">Login</h1>\r\n        <form onSubmit={onSubmitform}>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"email\"\r\n            className=\"form-control my-3\"\r\n            value={email}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"password\"\r\n            className=\"form-control my-3\"\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n          <button className=\"btn btn-success btn-block\">Submit</button>\r\n        </form>\r\n      </main>\r\n     */\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}