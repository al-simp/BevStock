{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Moment from\"react-moment\";var StockRecords=function StockRecords(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stocktakes=_useState2[0],setStocktakes=_useState2[1];var getStoctakes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,parseRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/inventory/stocktakes\",{method:\"GET\",headers:{token:localStorage.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:parseRes=_context.sent;setStocktakes(parseRes);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getStoctakes(){return _ref.apply(this,arguments);};}();useEffect(function(){getStoctakes();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"Previous Stocktake Records\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Stocktake\"),/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"View\"))),/*#__PURE__*/React.createElement(\"tbody\",null,stocktakes.map(function(stocktake){return/*#__PURE__*/React.createElement(\"tr\",{key:stocktake.stocktake_id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Moment,{date:stocktake.stocktake_date,format:\"DD/MM/YYYY HH:mm\"})),/*#__PURE__*/React.createElement(\"td\",null,stocktake.stocktake_id),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"badge badge-pill badge-primary\",href:\"/stocktakerecord/\".concat(stocktake.stocktake_id)},\"View\")));}))));};export default StockRecords;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/inventory/StockRecords.js"],"names":["React","useEffect","useState","Moment","StockRecords","stocktakes","setStocktakes","getStoctakes","fetch","method","headers","token","localStorage","response","json","parseRes","map","stocktake","stocktake_id","stocktake_date"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,eACWF,QAAQ,CAAC,EAAD,CADnB,wCAClBG,UADkB,eACNC,aADM,eAEzB,GAAMC,CAAAA,YAAY,0FAAG,+LAEMC,CAAAA,KAAK,CAC1B,uBAD0B,CAE1B,CACEC,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CAAEC,KAAK,CAAEC,YAAY,CAACD,KAAtB,CAFX,CAF0B,CAFX,QAEXE,QAFW,qCASMA,CAAAA,QAAQ,CAACC,IAAT,EATN,QASXC,QATW,eAUjBT,aAAa,CAACS,QAAD,CAAb,CAViB,sJAAH,kBAAZR,CAAAA,YAAY,0CAAlB,CAcAN,SAAS,CAAC,UAAM,CACdM,YAAY,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,4CACE,2DADF,cAEE,6BAAO,SAAS,CAAC,8BAAjB,eACE,8CACE,2CACE,0CADF,cAEE,mCAFF,cAGE,qCAHF,CADF,CADF,cAQE,iCACKF,UAAU,CAACW,GAAX,CAAe,SAACC,SAAD,qBACZ,0BAAI,GAAG,CAAEA,SAAS,CAACC,YAAnB,eACI,2CAAI,oBAAC,MAAD,EAAQ,IAAI,CAAGD,SAAS,CAACE,cAAzB,CAAyC,MAAM,CAAC,kBAAhD,EAAJ,CADJ,cAEI,8BAAKF,SAAS,CAACC,YAAf,CAFJ,cAGI,2CAAI,yBAAG,SAAS,CAAC,gCAAb,CAA8C,IAAI,4BAAsBD,SAAS,CAACC,YAAhC,CAAlD,SAAJ,CAHJ,CADY,EAAf,CADL,CARF,CAFF,CADF,CAwBD,CA5CD,CA6CA,cAAed,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst StockRecords = () => {\r\n  const [stocktakes, setStocktakes] = useState([]);\r\n  const getStoctakes = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        \"/inventory/stocktakes\",\r\n        {\r\n          method: \"GET\",\r\n          headers: { token: localStorage.token },\r\n        }\r\n      );\r\n      const parseRes = await response.json();\r\n      setStocktakes(parseRes);\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStoctakes();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h6>Previous Stocktake Records</h6>\r\n      <table className=\"table table-striped table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>Stocktake</th>\r\n            <th>ID</th>\r\n            <th>View</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            {stocktakes.map((stocktake) => (\r\n                <tr key={stocktake.stocktake_id}>\r\n                    <td><Moment date ={stocktake.stocktake_date} format=\"DD/MM/YYYY HH:mm\"/></td>\r\n                    <td>{stocktake.stocktake_id}</td>\r\n                    <td><a className=\"badge badge-pill badge-primary\" href={`/stocktakerecord/${stocktake.stocktake_id}`}\r\n>View</a></td>\r\n                </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\nexport default StockRecords;\r\n"]},"metadata":{},"sourceType":"module"}