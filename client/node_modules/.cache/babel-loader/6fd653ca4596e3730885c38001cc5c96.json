{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\alans\\\\bevstock\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";//components\nimport AddList from\"./AddList\";import ShowLists from\"./ShowLists\";var Stocklists=function Stocklists(_ref){var setAuth=_ref.setAuth;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allLists=_useState2[0],setLists=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),listsChange=_useState4[0],setListsChange=_useState4[1];var getLists=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,parseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/stocklists/\",{method:\"GET\",headers:{token:localStorage.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:parseData=_context.sent;setLists(parseData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getLists(){return _ref2.apply(this,arguments);};}();var logout=function logout(e){e.preventDefault();localStorage.removeItem(\"token\");setAuth(false);toast.success(\"Logged out succsessfully!\");};useEffect(function(){getLists();setListsChange(false);},[listsChange]);return/*#__PURE__*/React.createElement(\"main\",{role:\"main\",className:\"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary float-right\",onClick:function onClick(e){return logout(e);}},\"Logout\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-3\"},\"Stock Areas\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AddList,{setListsChange:setListsChange})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ShowLists,{allLists:allLists,setListsChange:setListsChange})));};export default Stocklists;","map":{"version":3,"sources":["C:/Users/alans/bevstock/client/src/components/stocktaking/Stocktaking.js"],"names":["React","useState","useEffect","toast","AddList","ShowLists","Stocklists","setAuth","allLists","setLists","listsChange","setListsChange","getLists","fetch","method","headers","token","localStorage","response","json","parseData","console","error","message","logout","e","preventDefault","removeItem","success"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OAASC,KAAT,KAAsB,gBAAtB,CAEA;AACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACLN,QAAQ,CAAC,EAAD,CADH,wCAC3BO,QAD2B,eACjBC,QADiB,8BAEIR,QAAQ,CAAC,KAAD,CAFZ,yCAE3BS,WAF2B,eAEdC,cAFc,eAIlC,GAAMC,CAAAA,QAAQ,2FAAG,gMAEUC,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC3CC,MAAM,CAAE,KADmC,CAE3CC,OAAO,CAAE,CAAEC,KAAK,CAAEC,YAAY,CAACD,KAAtB,CAFkC,CAAjB,CAFf,QAEPE,QAFO,qCAOWA,CAAAA,QAAQ,CAACC,IAAT,EAPX,QAOPC,SAPO,eAQbX,QAAQ,CAACW,SAAD,CAAR,CARa,iFAUbC,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAVa,qEAAH,kBAARX,CAAAA,QAAQ,2CAAd,CAcA,GAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACAT,YAAY,CAACU,UAAb,CAAwB,OAAxB,EACApB,OAAO,CAAC,KAAD,CAAP,CACAJ,KAAK,CAACyB,OAAN,CAAc,2BAAd,EACD,CALD,CAOA1B,SAAS,CAAC,UAAM,CACdU,QAAQ,GACRD,cAAc,CAAC,KAAD,CAAd,CACD,CAHQ,CAGN,CAACD,WAAD,CAHM,CAAT,CAKA,mBACE,4BAAM,IAAI,CAAC,MAAX,CAAkB,SAAS,CAAC,yCAA5B,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,8BACE,SAAS,CAAC,6BADZ,CAEE,OAAO,CAAE,iBAACe,CAAD,QAAOD,CAAAA,MAAM,CAACC,CAAD,CAAb,EAFX,WADF,cAOE,2BAAK,SAAS,CAAC,WAAf,eACE,0BAAI,SAAS,CAAC,WAAd,gBADF,cAEE,4CACE,oBAAC,OAAD,EAAS,cAAc,CAAEd,cAAzB,EADF,CAFF,CAPF,CADF,cAeE,4CACE,oBAAC,SAAD,EAAW,QAAQ,CAAEH,QAArB,CAA+B,cAAc,CAAEG,cAA/C,EADF,CAfF,CADF,CAqBD,CAnDD,CAqDA,cAAeL,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\n//components\r\nimport AddList from \"./AddList\";\r\nimport ShowLists from \"./ShowLists\";\r\n\r\nconst Stocklists = ({ setAuth }) => {\r\n  const [allLists, setLists] = useState([]);\r\n  const [listsChange, setListsChange] = useState(false);\r\n\r\n  const getLists = async () => {\r\n    try {\r\n      const response = await fetch(\"/stocklists/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      const parseData = await response.json();\r\n      setLists(parseData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const logout = (e) => {\r\n    e.preventDefault();\r\n    localStorage.removeItem(\"token\");\r\n    setAuth(false);\r\n    toast.success(\"Logged out succsessfully!\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    getLists();\r\n    setListsChange(false);\r\n  }, [listsChange]);\r\n\r\n  return (\r\n    <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4\">\r\n      <div className=\"jumbotron\">\r\n        <button\r\n          className=\"btn btn-primary float-right\"\r\n          onClick={(e) => logout(e)}\r\n        >\r\n          Logout\r\n        </button>\r\n        <div className=\"container\">\r\n          <h1 className=\"display-3\">Stock Areas</h1>\r\n          <div>\r\n            <AddList setListsChange={setListsChange} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ShowLists allLists={allLists} setListsChange={setListsChange} />\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Stocklists;\r\n"]},"metadata":{},"sourceType":"module"}